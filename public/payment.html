<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qopy - Anonymous Payment</title>
    <link rel="icon" href="/logos/Favicon.png" type="image/png">
    
    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .payment-container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            overflow: hidden;
        }

        .payment-header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 32px;
            text-align: center;
        }

        .payment-header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .payment-header p {
            opacity: 0.9;
            font-size: 16px;
        }

        .anonymous-id-section {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin: 24px;
            text-align: center;
        }

        .anonymous-id-title {
            font-size: 14px;
            font-weight: 600;
            color: #475569;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .anonymous-id {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 24px;
            font-weight: 700;
            color: #1e293b;
            letter-spacing: 2px;
            margin-bottom: 12px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            border: 1px solid #cbd5e1;
        }

        .anonymous-id-note {
            font-size: 12px;
            color: #64748b;
            line-height: 1.5;
        }

        .plan-selection {
            padding: 24px;
        }

        .plan-title {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 16px;
            text-align: center;
        }

        .plans-grid {
            display: grid;
            gap: 16px;
            margin-bottom: 24px;
        }

        .plan-card {
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .plan-card:hover {
            border-color: #4f46e5;
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(79, 70, 229, 0.12);
        }

        .plan-card.selected {
            border-color: #4f46e5;
            background: #f8fafc;
        }

        .plan-card.selected::after {
            content: '✓';
            position: absolute;
            top: 12px;
            right: 12px;
            width: 24px;
            height: 24px;
            background: #4f46e5;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }

        .plan-name {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .plan-price {
            font-size: 24px;
            font-weight: 700;
            color: #4f46e5;
            margin-bottom: 8px;
        }

        .plan-description {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 12px;
        }

        .plan-features {
            list-style: none;
        }

        .plan-features li {
            font-size: 12px;
            color: #475569;
            margin-bottom: 4px;
            padding-left: 16px;
            position: relative;
        }

        .plan-features li::before {
            content: '•';
            color: #4f46e5;
            position: absolute;
            left: 0;
        }

        .payment-button {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 16px 24px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .payment-button:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 8px 24px rgba(79, 70, 229, 0.3);
        }

        .payment-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .privacy-notice {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 16px;
            margin: 24px;
            font-size: 14px;
            line-height: 1.5;
        }

        .privacy-notice-title {
            font-weight: 600;
            color: #92400e;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .privacy-notice-text {
            color: #78350f;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading.visible {
            display: block;
        }

        .spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #4f46e5;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            background: #fef2f2;
            border: 1px solid #fca5a5;
            color: #991b1b;
            padding: 12px;
            border-radius: 8px;
            margin: 16px 0;
            font-size: 14px;
            display: none;
        }

        .error-message.visible {
            display: block;
        }

        @media (max-width: 640px) {
            body {
                padding: 10px;
            }

            .payment-container {
                margin: 8px;
            }

            .payment-header {
                padding: 24px 16px;
            }

            .payment-header h1 {
                font-size: 24px;
            }

            .anonymous-id-section {
                margin: 16px 10px;
                padding: 16px 12px;
            }

            .plan-selection {
                padding: 20px 12px;
            }

            .anonymous-id {
                font-size: 20px;
                letter-spacing: 1px;
            }
        }
    </style>
</head>
<body>
    <div class="payment-container">
        <div class="payment-header">
            <h1>Anonymous Payment</h1>
            <p>Secure subscription without personal information</p>
        </div>

        <div class="anonymous-id-section">
            <div class="anonymous-id-title">Your Anonymous ID</div>
            <div class="anonymous-id" id="anonymousId">Loading...</div>
            <div class="anonymous-id-note">
                Save this ID - it's your only way to manage your subscription.
                <br>No email or personal information required.
            </div>
        </div>

        <div class="plan-selection">
            <h2 class="plan-title">Choose Your Plan</h2>
            
            <div class="plans-grid" id="plansGrid">
                <!-- Plans will be loaded dynamically -->
            </div>

            <div class="error-message" id="errorMessage"></div>

            <button class="payment-button" id="paymentButton" disabled>
                Select a Plan
            </button>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <div>Processing payment...</div>
            </div>
        </div>

        <div class="privacy-notice">
            <div class="privacy-notice-title">
                Privacy First
            </div>
            <div class="privacy-notice-text">
                We never collect personal information. Your anonymous ID is generated randomly and cannot be traced back to you. 
                Payment processing is handled securely by Stripe, but no personal data is stored on our servers.
            </div>
        </div>
    </div>

    <script src="/js/payment.js"></script>
</body>
</html>